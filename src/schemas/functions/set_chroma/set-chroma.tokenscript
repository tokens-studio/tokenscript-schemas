// Set a color's chroma to a specific value
// Preserves hue and lightness

variable input: List = {input};
variable color: Color.OKLCH = input.get(0).to.oklch();
variable target_c: Number = input.get(1);

// Clamp to valid range (0 to ~0.4 for sRGB gamut)
if (target_c < 0) [ target_c = 0; ];
if (target_c > 0.4) [ target_c = 0.4; ];

variable result: Color.OKLCH;
result.l = color.l;
result.c = target_c;
result.h = color.h;

return result;

